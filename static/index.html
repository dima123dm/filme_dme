<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rezka App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/artplayer/dist/artplayer.js"></script>
    
    <link rel="stylesheet" href="static/style.css">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –ø–ª–µ–µ—Ä–∞ */
        #player-container {
            width: 100%;
            height: 240px; /* –í—ã—Å–æ—Ç–∞ –ø–ª–µ–µ—Ä–∞ */
            background: #000;
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
            display: none; /* –°–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        }
        
        #translation-box {
            padding: 0 15px 15px 15px;
            display: none; /* –°–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        }
        
        #translation-select {
            width: 100%;
            padding: 10px;
            background: var(--tg-theme-secondary-bg-color, #222);
            color: var(--tg-theme-text-color, #fff);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            font-size: 14px;
            outline: none;
        }
        
        .btn-play-online {
            background: linear-gradient(90deg, #ff8a00, #e52e71); /* –í—ã–¥–µ–ª—è—é—â–∏–π—Å—è —Ü–≤–µ—Ç */
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div id="search-ui" class="search-box">
        <input type="search" id="q" placeholder="–ü–æ–∏—Å–∫ —Å–µ—Ä–∏–∞–ª–æ–≤..." oninput="doSearch(this.value)" autocomplete="off">
        <div id="search-results"></div>
    </div>

    <div id="grid" class="grid"></div>

    <div id="details">
        <button class="back-btn" onclick="closeDetails()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
        </button>

        <div class="hero">
            <div class="hero-gradient"></div>
            <img id="det-img" src="">
            <div class="hero-title" id="det-title"></div>
        </div>

        <div id="det-controls" class="manage-box" style="display:none;">
            <button class="btn-action btn-play-online" onclick="startOnlineView()">‚ñ∂ –°–º–æ—Ç—Ä–µ—Ç—å</button>
            
            <button class="btn-action btn-watch" onclick="moveMovie('watching')">–í –°–º–æ—Ç—Ä—é</button>
            <button class="btn-action btn-later" onclick="moveMovie('later')">–í –ü–æ–∑–∂–µ</button>
            <button class="btn-action btn-done" onclick="moveMovie('watched')">–í –ê—Ä—Ö–∏–≤</button>
            <button class="btn-action btn-delete" onclick="deleteMovie()">–£–¥–∞–ª–∏—Ç—å</button>
        </div>

        <div id="translation-box">
            <select id="translation-select" onchange="changeTranslation(this.value)">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ–∑–≤—É—á–∫—É...</option>
            </select>
        </div>

        <div id="player-container">
            <div id="artplayer" style="width: 100%; height: 100%;"></div>
        </div>

        <div id="det-franchises" class="franchise-list"></div>

        <div id="det-list" class="episodes-list"></div>
    </div>

    <div class="tab-bar">
        <button class="tab-btn active" onclick="switchTab('watching', this)">
            <span class="tab-icon">‚ñ∂</span>–°–º–æ—Ç—Ä—é
        </button>
        <button class="tab-btn" onclick="switchTab('later', this)">
            <span class="tab-icon">‚è≥</span>–ü–æ–∑–∂–µ
        </button>
        <button class="tab-btn" onclick="switchTab('watched', this)">
            <span class="tab-icon">‚úÖ</span>–ê—Ä—Ö–∏–≤
        </button>
        <button class="tab-btn" onclick="openSearch(this)">
            <span class="tab-icon">üîç</span>–ü–æ–∏—Å–∫
        </button>
    </div>

    <script src="static/script.js"></script>
</body>
</html>